<script>
  const checkboxes = document.querySelectorAll("input[type='checkbox']");
  const installBtn = document.getElementById("installBtn");
  const progressBar = document.getElementById("progressBar");
  const loading = document.getElementById("loading");
  const main = document.getElementById("main");
  const cta = document.getElementById("cta");

  // Активувати кнопку, якщо хоч щось вибране
  checkboxes.forEach(cb => {
    cb.addEventListener("change", () => {
      const anyChecked = Array.from(checkboxes).some(cb => cb.checked);
      installBtn.disabled = !anyChecked;
    });
  });

  // Клік по всій картці
  document.querySelectorAll('.mod-item').forEach(item => {
    item.addEventListener('click', (e) => {
      const checkbox = item.querySelector('input[type="checkbox"]');
      if (e.target !== checkbox) {
        checkbox.checked = !checkbox.checked;
        checkbox.dispatchEvent(new Event('change'));
      }
    });
  });

  installBtn.addEventListener("click", () => {
    main.style.display = "none";
    loading.style.display = "flex";
    setTimeout(() => {
      progressBar.style.width = "100%";
    }, 100);
    setTimeout(() => {
      cta.style.display = "inline-block";
    }, 2000);
  });

  cta.addEventListener("click", () => {
    window.open("https://play.google.com/store/apps/details?id=com.game.mcpe.mods.oneblock", "_blank");
  });
</script>
